<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="欢迎来到李雪萌同学的个人博客">
<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="欢迎来到李雪萌同学的个人博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="欢迎来到李雪萌同学的个人博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title> Hexo </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/15/git的通信/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李雪萌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/15/git的通信/" itemprop="url">
                  git通信的基础ssh
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-15T00:00:00+08:00">
                2017-03-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/github/" itemprop="url" rel="index">
                    <span itemprop="name">github</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###git通信的基础ssh</p>
<pre><code> ssh（安全协议）是基于RSA加密算法实现的，当向github上提交更新时，github需要确认提交者的身份，否则其他人也可以向你的仓库上传，RSA是有公钥和私钥，将公钥传给github，私钥自己保留，上传项目更新时，用私钥进行加密，git用传过去的公钥进行解密，保证了信息的安全性，确定上传者的身份。

用下面的命令生成public key

$ ssh-keygen -t rsa（生成公钥）会产生公钥，

在github的Settings找到SSH and GPG eys中点击new ssh key添加一个新的ssh 
</code></pre><p>将产生的公钥复制到新的ssh中</p>
<pre><code> 每个电脑的公钥都不一样

如果想用一个新的电脑去上传更新代码，要新建一个ssh key，在gihub上
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/24/浮动问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李雪萌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/24/浮动问题/" itemprop="url">
                  浮动问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-24T00:00:00+08:00">
                2017-02-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="浮动问题"><a href="#浮动问题" class="headerlink" title="浮动问题"></a>浮动问题</h3><p>一.内部元素浮动如何对父亲元素消除浮动？</p>
<p>1.给父级元素div也加上float(里面浮动 外面也浮动，不释放空间)</p>
<p>2.在子元素后面加上<div style="clear:both;"></div></p>
<p>3.给父元素加上onerflow：hidden;</p>
<p>二.绝对定位脱离文档流，浮动没有脱离文档流</p>
<p>三.父元素div1和子元素div2 给子元素div2设置margin </p>
<p>防止父元素div1随着子元素div2一起掉下去的方法</p>
<p>1.左浮</p>
<p>2.溢出隐藏：overflow：hidden</p>
<p>3.定位</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/24/内联元素和块级元素之间的嵌套关系/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李雪萌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/24/内联元素和块级元素之间的嵌套关系/" itemprop="url">
                  内联样式和块级元素之间的嵌套关系
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-24T00:00:00+08:00">
                2017-02-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>首先，我们来回顾一下内联元素和块级元素<br>内联元素可以嵌套内联元素，块级元素可以嵌套部分块级元素并也能嵌套内联元素，但内联元素不能嵌套块级元素。块级元素为block，内联元素为inline，拥有“inline”特性的同时又拥有“block”的特性称为replace元素。</p>
<p>在做项目的时候，犯了个错，进了坑<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;p class=&quot;opr-worldcup-tieba2-checkcode&quot;&gt;</div><div class="line">&lt;input class=&quot;opr-worldcup-tieba2-checkcode-input c-input&quot; placeholder=&quot;输入验证码&quot;&gt;</div><div class="line">&lt;div class=&quot;opr-worldcup-tieba2-checkcode-img-wrapper&quot;&gt;image&lt;/div&gt;</div><div class="line">&lt;span class=&quot;opr-worldcup-tieba2-checkcode-change-code&quot;&gt;看不清?&lt;/span&gt;</div><div class="line">&lt;/p&gt;</div></pre></td></tr></table></figure></p>
<p>在控制台一看，被解析成了这个样子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;p class=&quot;opr-worldcup-tieba2-checkcode&quot;&gt;</div><div class="line">&lt;input class=&quot;opr-worldcup-tieba2-checkcode-input c-input&quot; placeholder=&quot;输入验证码&quot;&gt;</div><div class="line">&lt;/p&gt;</div><div class="line">&lt;div class=&quot;opr-worldcup-tieba2-checkcode-img-wrapper&quot;&gt;image&lt;/div&gt;</div><div class="line">&lt;span class=&quot;opr-worldcup-tieba2-checkcode-change-code&quot;&gt;看不清?&lt;/span&gt;</div><div class="line">&lt;p&gt; &lt;/p&gt;</div></pre></td></tr></table></figure></p>
<p>我们会发现，<div>分别在一行显示，而此时”p元素的开始”与”p元素的结束”也在不同的一行显示</div></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">原来，在```&lt;p&gt;```元素中是不能嵌套```&lt;div&gt;```元素的，在```&lt;p&gt;```标签还没结束时，遇到下一个块级元素就会自动结束。</div><div class="line">试了一下</div></pre></td></tr></table></figure>
<figure class="highlight plain"><figcaption><span>```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">这段代码会被浏览器会解析为</div><div class="line">```&lt;p&gt;元素的开始&lt;/p&gt;</div></pre></td></tr></table></figure>
<p>那我们就会想如果把div设置为内联样式的话，是不是就不会出现这样的现象啦<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;这是p元素的开始  </div><div class="line">&lt;div style=&quot;display: inline&quot;&gt;div元素1&lt;/div&gt;  </div><div class="line">&lt;div style=&quot;display: inline&quot;&gt;div元素2&lt;/div&gt;  </div><div class="line">这是p元素的结束  </div><div class="line">&lt;/p&gt;</div></pre></td></tr></table></figure></p>
<p>即使我们给<div>添加样式，将它变成内联元素形式,他的效果还是一样的，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;这是p元素的开始  &lt;/p&gt;</div><div class="line">&lt;div style=&quot;display: inline&quot;&gt;div元素1&lt;/div&gt;  </div><div class="line">&lt;div style=&quot;display: inline&quot;&gt;div元素2&lt;/div&gt;  </div><div class="line">这是p元素的结束  </div><div class="line">&lt;p&gt;&lt;/p&gt;</div></pre></td></tr></table></figure></div></p>
<p>我们再用JavaScript代码来检索一个页面中的p元素：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var p = document.querySelectorAll(&quot;p&quot;); //查找p元素  </div><div class="line">console.log(p.length); // 2个元素</div></pre></td></tr></table></figure></p>
<p>我们以为会是1 结果是2</p>
<p>###因此得出结论：<br>在p元素是不能嵌套Div元素的，它会被浏览器解析为页面中p元素的两倍数量，也就是开始标签被解析为一个p元素，结束标签被解析为一个p元素。</p>
<p>###元素的三个类别：<br>那哪些块元素里面不能放哪些块元素呢？我们可以先把所有的块元素再次划分成几个级别的，我们已经知道<code>&lt;html&gt;</code>是在最外层，<code>&lt;html&gt;</code>下一级里面只会有<code>&lt;head&gt;</code>、<code>&lt;body&gt;</code>、。而我们已经知道了可视的元素只会出现在<code>&lt;body&gt;</code>里，所以我们把<code>&lt;body&gt;</code>划在第一个级里面，接着，把不可以自由嵌套的元素划在第三个级，其他的就归进第二个级。所谓的不可自由嵌套的元素就是里面只能放内联元素的，它们包括有：标题标记的<code>&lt;h1&gt;</code>、<code>&lt;h2&gt;</code>、<code>&lt;h3&gt;</code>、<code>&lt;h4&gt;</code>、<code>&lt;h5&gt;</code>、<code>&lt;h6&gt;</code>、<code>&lt;caption&gt;</code>；段落标记的<code>&lt;p&gt;</code>；分隔线<code>&lt;hr&gt;</code>。</p>
<p>为什么说第二级的元素可以自由嵌套呢？我们可以把它们看成是一些容器（或者说是盒子）， 这些容器的大小可以自由变化，例如我们可以把<code>&lt;ul&gt;</code>嵌在<code>&lt;div&gt;</code>里面，也可以把<code>&lt;div&gt;</code>嵌在<code>&lt;li&gt;</code>里面。</p>
<p>在HTML里有几个元素是比较特别的：<code>&lt;ul&gt;、&lt;ol&gt;、&lt;dl&gt;、&lt;table&gt;</code>，它们的子一层必须是指定元素，<code>&lt;ul&gt;、&lt;ol&gt;</code>的子一级必须是<code>&lt;li&gt;</code>；<code>&lt;table&gt;</code>的子一层必须是<code>&lt;caption&gt; 或&lt;thead&gt;、&lt;tfoot&gt;、&lt;tbody&gt;</code>等，而再子一层必须是<code>&lt;tr&gt;</code> （<code>&lt;tr&gt;只存在于&lt;thead&gt;、&lt;tfoot&gt;、&lt;tbody&gt;中</code>），之后才是可放内容的<code>&lt;td&gt;</code>或者<code>&lt;th&gt;</code>。</p>
<p><code>&lt;img&gt;</code>和<code>&lt;input&gt;</code>有着其它内联元素没有的宽和高。它们在”inline”的情况下又有”black”的特性，W3C称之为replace元素。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/字符串反转/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李雪萌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/23/字符串反转/" itemprop="url">
                  字符串反转
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-23T00:00:00+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="字符串反转"><a href="#字符串反转" class="headerlink" title="字符串反转"></a>字符串反转</h3><ol>
<li>使用Array.Reverse方法</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">string.prototype.reverse=function()&#123;</div><div class="line">	return this.split(&quot;&quot;).reverse().join(&quot;&quot;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">public static string ReverseByArray(string original)&#123;</div><div class="line"></div><div class="line">char[] c = original.ToCharArray();//字符串变为字符数组</div><div class="line"></div><div class="line">Array.Reverse(c);</div><div class="line"></div><div class="line">return new string(c);&#125;</div></pre></td></tr></table></figure>
<p>2.只遍历一半数组 引用一个中间数组</p>
<p>public static string ReverseByCharBuffer2(string original){</p>
<p>char[] c = original.ToCharArray();</p>
<p>int l = original.Length;</p>
<p>for (int i = 0; i &lt; l / 2; i++){</p>
<p>char t = c[i];</p>
<p>c[i] = c[l - i - 1];</p>
<p>c[l - i - 1] = t;}</p>
<p>return new string(c);}</p>
<p>3.直接追加到一个新的字符串</p>
<p>function revStr(str){</p>
<p>var tmpstr=’’;</p>
<p>for(var l=str.length-1;l&gt;0;i–){</p>
<p>tmpstr+=str.charAt(l);}</p>
<p>return tmpstr;}</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/13/深入理解JavaScrip中内存分配和垃圾回收/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李雪萌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/13/深入理解JavaScrip中内存分配和垃圾回收/" itemprop="url">
                  深入理解JavaScrip中内存分配和垃圾回收
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-13T00:00:00+08:00">
                2017-02-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="内存分配"><a href="#内存分配" class="headerlink" title="内存分配"></a>内存分配</h1><p>内存分配方式有三种：<br>　　[1]从静态存储区域分配。内存在程序编译的时候就已经分配好，这块内存在程序的整个运行期间都存在。例如全局变量，static变量。<br>　　[2]在栈上创建。在执行函数时，函数内局部变量的存储单元都可以在栈上创建，函数执行结束时这些存储单元自动被释放。栈内存分配运算内置于处理器的指令集中，效率很高，但是分配的内存容量有限。<br>　　[3]从堆上分配，亦称动态内存分配。动态内存的生存期由程序员决定，使用非常灵活，但如果在堆上分配了空间，就有责任回收它，否则运行的程序会出现内存泄漏。</p>
<h3 id="程序的内存空间"><a href="#程序的内存空间" class="headerlink" title="程序的内存空间"></a>程序的内存空间</h3><p>　　1、栈区（stack）—　 由编译器自动分配释放 ，存放为运行函数而分配的局部变量、函数参数、返回数据、返回地址等。其操作方式类似于数据结构中的栈。<br>　　2、堆区（heap） —　 一般由程序员分配释放， 若程序员不释放，程序结束时可能由OS回收 。分配方式类似于链表。<br>　　3、全局区（静态区）（static）—存放全局变量、静态数据、常量。程序结束后由系统释放。<br>　　4、文字常量区 —常量字符串就是放在这里的。 程序结束后由系统释放。<br>　　5、程序代码区—存放函数体（类成员函数和全局函数）的二进制代码。</p>
<h3 id="栈和堆"><a href="#栈和堆" class="headerlink" title="栈和堆"></a>栈和堆</h3><p>栈的优势就是存取速度比堆要快，仅次于直接位于CPU中的寄存器，但缺点是，存在栈中的数据大小与生存期必须是确定的，缺乏灵活性。</p>
<p>堆的优势是可以动态地分配内存大小，生存期也不必事先告诉编译器，，但是缺点是由于在运行时动态分配内存，所以存取速度较慢，在堆上分配了空间，就有责任回收它，否则运行的程序会出现内存泄漏。</p>
<h3 id="局部变量为什么要放在栈上"><a href="#局部变量为什么要放在栈上" class="headerlink" title="局部变量为什么要放在栈上"></a>局部变量为什么要放在栈上</h3><p>局部变量是放在栈区的，为什么要放在栈区呢？<br>首先我们知道栈的空间大小是固定的，二堆的空间可以自由分配。<br>（1）局部变量只有在调用他所在的函数时才会生效，很多局部变量的生名周期远远小于整个程序的运行周期，如果为每个局部变量分配不同的空间，空间的利用率会降低。<br>（2）更重要的是，当发生递归调用的时候，会存在当一个函数尚未返回，对他的另一次调用又发生的情况，对于这种多次调用，相同名称的局部变量会有不同的值，这些值必须同时保存在内存中，而且不能相互影响，因此他们必然有不同的地址，像全局变量那样分配唯一确定的地址肯定是不行的。</p>
<p>###运行栈<br>运行栈实际上是一段区域的内存空间（其实就是我们通常说的栈），运行栈中的数据分为一个个栈帧，每个栈帧对应一个函数的调用，栈帧中包含这次函数调用中的形参值，一些控制信息，局部变量值和一些临时数据（例如复杂表达式计算的中间值，默写函数的返回值）。</p>
<h3 id="函数在运行栈里的执行"><a href="#函数在运行栈里的执行" class="headerlink" title="函数在运行栈里的执行"></a>函数在运行栈里的执行</h3><p>每次发生函数调用时，都会有一个栈帧被压入运行栈中，二调用返回时，相应的栈帧会被弹出</p>
<h3 id="函数调用时的参数传递"><a href="#函数调用时的参数传递" class="headerlink" title="函数调用时的参数传递"></a>函数调用时的参数传递</h3><p>当一个函数调用一个函数的时候，要为它所调用的函数设置实参，具体方式是在调用前把实参值压入栈中，运行栈中的这一部分是主调函数和被调函数都可以直接访问的，参数的形实结合就是通过访问这一部分公共空间完成的。</p>
<p>下面是一个递归函数的例子和他在运行栈中是如何存储的</p>
<p>这是一个递归函数计算阶乘的例子<br><img src="http://upload-images.jianshu.io/upload_images/2661054-9dd3c1fb50e1fd1a.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="IMG_8064.JPG"></p>
<p>那么他在运行栈中的变化情况<br><img src="http://upload-images.jianshu.io/upload_images/2661054-40d484776c42b7d8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="84FB836C3B04E1E82562595809F5F5F2.png"><br>具体解析<br><img src="http://upload-images.jianshu.io/upload_images/2661054-ea8a43a9ec4d2d37.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="E949781D509F51E259920419F5DF2769.png"></p>
<p>###简单变量和引用变量<br>简单变量和引用变量存储在内存中的位置分别为栈和堆。<br>简单变量：存储在栈中。<br>引用变量：存储在栈中的值是一个指针，指向存储在堆中的实际对象。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function Person(id,name,age)&#123; </div><div class="line">this.id = id; </div><div class="line">this.name = name; </div><div class="line">this.age = age; </div><div class="line">&#125; </div><div class="line">var num = 10; </div><div class="line">var bol = true; </div><div class="line">var str = &quot;abc&quot;; </div><div class="line">var obj = new Object(); </div><div class="line">var arr = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;]; </div><div class="line">var person = new Person(100,&quot;jxl&quot;,22);</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2661054-b4f7edd67df4acaf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>全局变量是存储在全局区（静态区），分配唯一确定的地址。</p>
<p>#垃圾回收<br>垃圾回收其实就是找到那些不再继续使用的变量，然后释放他占用的内存空间，垃圾收集器是周期性运行的。<br>JavaScrip中垃圾回收的方式两种<br>（1）标记清除<br>（2）引用计数</p>
<h3 id="标记清除"><a href="#标记清除" class="headerlink" title="标记清除"></a>标记清除</h3><p>javascript中最常用的是标记清除，具体的过程是<br>垃级收集器在运行的时候会给存储在内存中的所有变量都加上标记，然后他会去掉环境中的变量以及环境中的变量所引用的变量的标记（这里面说的环境其实就是栈），在此之后还被加上标记的变量就被视为准备删除的变量，原因是环境中的变量已经无法是访问到这些变量了（也就是说这些变量是“不可达的”），最后，垃圾收集器完成内存清除的工作，销毁那些带标记的值并收回他们收占用的空间。<br>看一个最简单的例子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">function fun1()&#123;</div><div class="line">var a = new Object(); </div><div class="line">&#125;</div><div class="line">function fun2()&#123;</div><div class="line">var b = new Object(); </div><div class="line">&#125;</div><div class="line">fun1();</div><div class="line">fun2();</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2661054-dd154697f84f1583.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<p>当fun1函数已经运行完毕，那么a变量在栈里面已经被弹出去，但是a变量指向堆里面的空间(A)还没有被释放,</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2661054-12c5368f9b3984c0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"><br>当运行到fun2时，此时正好进行垃圾回收，那么 b,A,B刚开始都会被标记，然后在去掉环境中有的变量（b）和环境中变量引用变量（B）的标记，此时，有标记的变量就只有（A），垃圾收集器就会将（A）进行销毁，回收内存空间。</p>
<h3 id="引用计数"><a href="#引用计数" class="headerlink" title="引用计数"></a>引用计数</h3><p>另一种不太常见的垃圾收集策略是引用计数，他是跟踪记录每个值被引用的次数，只有当对象没有被引用的时候，才会被当作垃圾回收掉。<br>看一个最简单的例子<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">var o = &#123; // 称之为外层对象</div><div class="line">a: &#123; //称之为内层对象</div><div class="line">b:2</div><div class="line">&#125;</div><div class="line">&#125;; //  创建了两个对象 内层对象作为外层对象的属性而被引用</div><div class="line">// 而外层对象被变量o引用</div><div class="line">// 显然，没有人会被垃圾回收</div><div class="line"></div><div class="line">var o2 = o; // o2也引用了上面说的外层对象。好现在外层对象的引用计数为‘2’ (被o和o2引用)</div><div class="line">o = 1; //  现在o不再引用外层对象，只有o2在引用，引用计数为 ‘1’</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2661054-f9f72edac7ef46bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var oa = o2.a; // oa 引用内层对象</div><div class="line">//  现在内层对象同时被作为外层对象的属性引用和被oa引用，引用计数为‘2’</div><div class="line">o2 = “yo”; //  好，现在o2也不引用外层对象了，外层对象引用计数为“0”</div><div class="line">// 意味着外层对象可以被“垃圾回收”了</div><div class="line">// 然而，内层对象还被oa引用着，因此还是没有被回收 （个人注释：这里有一点闭包的意味）</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2661054-53d2e89cf42ec403.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">oa = null; //  现在oa不引用内层对象了</div><div class="line">// 内层对象也被垃圾回收</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2661054-a49d16858da87170.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Paste_Image.png"></p>
<h3 id="局限：循环引用"><a href="#局限：循环引用" class="headerlink" title="局限：循环引用"></a>局限：循环引用</h3><p>看下面代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">function f()&#123;</div><div class="line">var o = &#123;&#125;;</div><div class="line">var o2 = &#123;&#125;;</div><div class="line">o.a = o2; // o 引用 o2</div><div class="line">o2.a = o; // o2 引用 o</div><div class="line"></div><div class="line">return “azerty”;</div><div class="line">&#125;</div><div class="line"></div><div class="line">f();</div></pre></td></tr></table></figure></p>
<p>o o2两个对象构成了循环引用<br>当函数执行完毕的时候，他们就被关在了f的作用域里面，没有外面的人可以使用他们<br>所以按理说，他们已经没有存在价值了，需要被垃圾回收，释放内存<br>然而，他们的引用计数都不为“0”<br>所以在这种引用计数的机制下，他们没有被回收</p>
<p>实际例子<br>在IE6,7版本的浏览器中，就是使用的引用计数机制。因此，下面的代码在IE6,7中可以稳稳地发生内存泄漏</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var element= document.getElementById(&apos;some_element&apos;);</div><div class="line">var myObject= new Object();</div><div class="line">myObject.element=element;</div><div class="line">element.someObject=myObject;</div></pre></td></tr></table></figure>
<p>这个例子在一个DOM元素（element）与一个原生javascript对象（myObject）之间创建了循环引用。变量myObject有一个名为element    的属性指向element对象，而变量element的属性someObject指向myObject，由于这个循环引用，即使这个例子中的DOM从页面中移除，它永远不会被回收<br>如果长时间没断开这个循环引用，会导致内存泄漏。<br>我们可以如下代码消除这个循环引用（断开一个引用就可以断开这种循环引用）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">myObject.element=null;</div><div class="line">element.someObject=null;</div></pre></td></tr></table></figure></p>
<p>有不完善的地方希望批评改进呢</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/13/闭包/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李雪萌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/13/闭包/" itemprop="url">
                  闭包
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-13T00:00:00+08:00">
                2017-02-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>闭包有三个特性</p>
<p>外部函数内定义内部函数 内部函数调用外部函数的变量 外部函数的变量不会回收 没有被释放</p>
<p>在js里arguments.callee代表就是自己 一般都是递归利用的</p>
<p>src放在onload后面</p>
<p>说是js是同步执行的，但是加载图片的过程是异步的，当有缓存时很可能加载过程的时间很短，当加载完时onload事件还没有绑定，所以执行onload事件时就什么都不执行了。</p>
<p>var aLi=document.querySelectorAll(“li”);</p>
<p>   for(var i=0;i&lt;aLi.length;i++){<br>    (function(idx){<br>         aLi[idx].addEventListener(“click”,function(){<br>        alert(idx);<br>        },false);<br>    })(i);</p>
<p>}</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/13/简谈a标签与添加点击事件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李雪萌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/13/简谈a标签与添加点击事件/" itemprop="url">
                  简谈a标签与添加点击事件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-13T00:00:00+08:00">
                2017-02-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="由来："><a href="#由来：" class="headerlink" title="由来："></a>由来：</h3><p>最近在学习vue基础，想给a添加一个点击事件，没有注意到a的href设为了空，导致页面一直在刷新，点击事件根本就没有进去<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;template v-if=&quot;loginType === &apos;username&apos;&quot;&gt;</div><div class="line">  &lt;label&gt;Username&lt;/label&gt;</div><div class="line">  &lt;input placeholder=&quot;Enter your username&quot;&gt;</div><div class="line">&lt;/template&gt;</div><div class="line">&lt;template v-else&gt;</div><div class="line">  &lt;label&gt;Email&lt;/label&gt;</div><div class="line">  &lt;input placeholder=&quot;Enter your email address&quot;&gt;</div><div class="line">&lt;/template&gt;</div><div class="line">&lt;a href=&quot;&quot;  v-on:click=&quot;doChange&quot;&gt;更换方式&lt;/a&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">var watchExampleVM= new Vue(&#123;</div><div class="line">  el:&apos;#example&apos;,</div><div class="line">  data: &#123;</div><div class="line">    loginType:&apos;username&apos;</div><div class="line">  &#125;,</div><div class="line">  methods: &#123;</div><div class="line">     doChange: function () &#123;</div><div class="line">       this.loginType =this.loginType ==&quot;username&quot;?&quot;email&quot;:&quot;username&quot;;</div><div class="line">       return this.loginType;</div><div class="line">    </div><div class="line">    &#125;</div><div class="line"> &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>后来知道a标签的href会导致默认人的页面跳转事件，如果为空值，就会刷新页面。<br>因为这个小的问题，就重新看了一下给a绑定点击事件注意的小地方，记录一下</p>
<p>1.链接的 onclick 事件被先执行，其次是 href 属性下的动作（页面跳转，或 javascript 伪链接）；</p>
<p>2.如果在链接的 href 属性中调用一个有返回值的函数，当前页面的内容将被此函数的返回值代替；</p>
<p>3.假设链接中同时存在 href 与 onclick，如果想让 href 属性下的动作不执行，我们需要阻止默认行为,</p>
<h3 id="“a”标签中使用点击事件的方法"><a href="#“a”标签中使用点击事件的方法" class="headerlink" title="“a”标签中使用点击事件的方法"></a>“a”标签中使用点击事件的方法</h3><p>(1)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;JavaScript:js_method();&quot;&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>但是这种方法在传递this等参数的时候很容易出问题，而且javascript:协议作为a的href属性的时候不仅会导致不必要的触发window.onbeforeunload事件，在IE里面更会使gif动画图片停止播放。W3C标准不推荐在href里面执行javascript语句</p>
<p>(2)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;javascript:void(0);&quot; onclick=&quot;js_method()&quot;&lt;/a&gt;</div><div class="line">&lt;a href=&quot;javascript:;&quot; onclick=&quot;js_method()&quot;&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>这种方法是很多网站最常用的方法，也是最周全的方法，onclick方法负责执行js函数，而void是一个操作符，void(0)返回undefined，地址不发生跳转。而且这种方法不会像第一种方法一样直接将js方法暴露在浏览器的状态栏,这种方法可以阻止默认行为</p>
<p>(3)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;#&quot; onclick=&quot;js_method()&quot;&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>这种方法也是网上很常见的代码，#是标签内置的一个方法，代表top的作用。所以用这种方法点击后网页后返回到页面的最顶端。</p>
<p>(4)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;#&quot; onclick=&quot;js_method();return false;&quot;&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>这种方法点击执行了js函数后return false，页面不发生跳转，执行后还是在页面的当前位置。<br>未完待续。。。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/12/var_dump打断php运行/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李雪萌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/12/var_dump打断php运行/" itemprop="url">
                  echo/var_dump会打断php的运行
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-12T00:00:00+08:00">
                2017-02-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/php/" itemprop="url" rel="index">
                    <span itemprop="name">php</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ajax-echo-var-dump是否会打断php的运行"><a href="#ajax-echo-var-dump是否会打断php的运行" class="headerlink" title="ajax echo/var_dump是否会打断php的运行"></a>ajax echo/var_dump是否会打断php的运行</h3><p>echo/var_dump是否会打断php的运行，答案自然是不会打断执行，但是为什么对执行有影响呢</p>
<p>问题是这样的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var_dump($userid);</div><div class="line">$rs=$this-&gt;t_user_model-&gt;get_all_by_id($userid);</div><div class="line">echo json_encode($rs);</div></pre></td></tr></table></figure>
<p>数据在network里是可以正确的查出来，但是就是执行不到回调函数里，我刚开始有看格式是否为json，发现是没有问题的</p>
<p>之后我百度我把<code>var_dump($userid);</code>去掉，发现可以跳到回调函数里，</p>
<p>我去百度了一下，</p>
<p>可能是执行ajaxreturn时, echo/var_dump的内容也会通过ajax返回, echo内容让前端解析出错.</p>
<p>为了避免这样的情况再发生，以后不要在controller里随便echo/var_dump吧</p>
<p>ajax不进入get请求的回调函数，链接如下</p>
<p><a href="http://blog.csdn.net/wabiaozia/article/details/50602672" target="_blank" rel="external">http://blog.csdn.net/wabiaozia/article/details/50602672</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/11/添加和编辑/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李雪萌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/11/添加和编辑/" itemprop="url">
                  同时添加和编辑到数据库
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-11T00:00:00+08:00">
                2017-02-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/php/" itemprop="url" rel="index">
                    <span itemprop="name">php</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ajax-同时添加和编辑到数据库"><a href="#ajax-同时添加和编辑到数据库" class="headerlink" title="ajax 同时添加和编辑到数据库"></a>ajax 同时添加和编辑到数据库</h3><p>通常我们添加功能和修改功能都是通过两个按钮点击，跳两个控制器去实现</p>
<p>而今天 有一个这样的需求，在一个页面可以添加和编辑，并且按只按保存，就可以实现新添加的insert到数据库，新编辑的要update到数据库，我是这么解决的</p>
<p>首先，我们要先区分是新添加的还是要编辑的</p>
<p>要编辑的有自己的id</p>
<figure class="highlight plain"><figcaption><span>type="hidden" name="hide-work" class="hide-work" value="'+data[i].work_id+'"><br></span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">```</div><div class="line"></div><div class="line">而新添加的直接将value设为new</div><div class="line"></div><div class="line"></div><div class="line"> ```&lt;input type=&quot;hidden&quot; name=&quot;hide-edu&quot; class=&quot;hide-edu&quot; value=&quot;new&quot;&gt;&lt;/br&gt;</div></pre></td></tr></table></figure>
<p>最后判断一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">```</div><div class="line"></div><div class="line">如果取到的value值为new 那么直接给将work_id给一个随便的负值例如-1</div><div class="line"></div><div class="line">```if($work_exps[$i][&apos;work_id&apos;] == -1)&#123;</div><div class="line">                    $rs = $this-&gt;T_work_model-&gt;insert_work_exp($work_exps[$i]);</div><div class="line">  &#125;else&#123;</div><div class="line">                    $rs = $this-&gt;T_work_model-&gt;update_work_exp($work_exps[$i]);</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>  之后直接判断work_id是否为-1 如果为-1 证明是新添加的就插入到数据库</p>
<p>  其次</p>
<p>  如何将多组数据插入数据库，可是封装成对象数组</p>
  <figure class="highlight plain"><figcaption><span>aWorks=[];</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">for(var i=0;i&lt;$lis.length;i++)&#123;</div><div class="line">              var oWorks=&#123;&#125;;</div><div class="line">              var $li =$lis.eq(i);</div><div class="line">              oWorks.work_id=$li.find(&apos;.hide-work&apos;).val()==&quot;new&quot;?-1:$li.find(&apos;.hide-work&apos;).val();</div><div class="line">     &#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/31/isset/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="李雪萌">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/31/isset/" itemprop="url">
                  数据库查询isset
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-01-31T00:00:00+08:00">
                2017-01-31
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/php/" itemprop="url" rel="index">
                    <span itemprop="name">php</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天用php的ci框架用数据库查询时 遇到了一个错误</p>
<figure class="highlight plain"><figcaption><span>to get property of non-object</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">```</div><div class="line"></div><div class="line">这个错误是由于数据库中没有该记录，所以返回的对象是null</div><div class="line"></div><div class="line">而我在view页面写的语句</div><div class="line"></div><div class="line">```&lt;?php echo $rs_work-&gt;company?&gt;</div></pre></td></tr></table></figure>
<p>此时$rs_work是个空对象,所以会报错</p>
<p>所以我们应该先判断对象是否为空,可以用isset函数,isset函数是检测变量是否设置，语句如下</p>
<p><code>&lt;?php if(isset($rs_work)){echo $rs_work-&gt;company;}?&gt;</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="李雪萌" />
          <p class="site-author-name" itemprop="name">李雪萌</p>
           
              <p class="site-description motion-element" itemprop="description">欢迎来到李雪萌同学的个人博客</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">李雪萌</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


  

</body>
</html>
